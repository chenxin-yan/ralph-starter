# =============================================================================
# Ralph Configuration
# =============================================================================
# This file is automatically sourced by start.sh if it exists.
# Environment variables take precedence over these values.
# File paths can be relative (to this directory) or absolute.

# -----------------------------------------------------------------------------
# Agent Command
# -----------------------------------------------------------------------------
# The CLI command used to run the AI agent.
# Examples:
#   opencode -p -q          (OpenCode in pipe mode, quiet)
#   claude --print          (Claude Code CLI)
#   aider --yes             (Aider with auto-confirm)
RALPH_AGENT_CMD="${RALPH_AGENT_CMD:-opencode -p -q}"

# -----------------------------------------------------------------------------
# File Paths
# -----------------------------------------------------------------------------
# Task file containing the project tasks in JSON format
RALPH_PRD_FILE="${RALPH_PRD_FILE:-prd.json}"

# Progress log where the agent appends session summaries
RALPH_PROGRESS_FILE="${RALPH_PROGRESS_FILE:-progress.md}"

# System prompt sent to the agent each iteration
RALPH_PROMPT_FILE="${RALPH_PROMPT_FILE:-PROMPT.md}"

# Project specification document
RALPH_SPEC_FILE="${RALPH_SPEC_FILE:-SPEC.md}"

# -----------------------------------------------------------------------------
# Completion Detection
# -----------------------------------------------------------------------------
# String the agent outputs to signal task completion
RALPH_COMPLETE_SIGNAL="${RALPH_COMPLETE_SIGNAL:-RALPH_TASK_COMPLETE}"

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Regex pattern to detect rate limit errors in agent output
RALPH_RATE_LIMIT_PATTERN="${RALPH_RATE_LIMIT_PATTERN:-rate.limit|429|quota.exceeded|too.many.requests}"

# Cooldown period in seconds when rate limit is detected
RALPH_RATE_LIMIT_COOLDOWN="${RALPH_RATE_LIMIT_COOLDOWN:-60}"

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log file for script output. To disable logging, comment out or set to empty:
# RALPH_LOG_FILE=""
RALPH_LOG_FILE="${RALPH_LOG_FILE:-ralph.log}"
